<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>



<beans>


	<!-- The person service.                                                -->

	<bean id="personService" class="org.alfresco.repo.security.person.PersonServiceImpl" init-method="init">
		<property name="transactionService">
			<ref bean="transactionService" />
		</property>
		<property name="nodeService">
			<ref bean="nodeService" />
		</property>
		<property name="tenantService">
			<ref bean="tenantService" />
		</property>
		<property name="searchService">
			<ref bean="admSearchService" />
		</property>
		<property name="permissionServiceSPI">
			<ref bean="permissionServiceImpl" />
		</property>
		<property name="authorityService">
			<ref bean="authorityService" />
		</property>
		<property name="dictionaryService">
			<ref bean="dictionaryService" />
		</property>
		<property name="namespacePrefixResolver">
			<ref bean="namespaceService" />
		</property>
		<property name="policyComponent">
			<ref bean="policyComponent" />
		</property>
		<property name="personCache">
			<ref bean="personCache" />
		</property>
		<property name="personDao">
			<ref bean="personDaoImpl" />
		</property>
		<!-- Configurable properties.                                 -->
		<!--                                                          -->
		<!-- TODO:                                                    -->
		<!-- Add support for creating real home spaces adn setting    -->
		<!-- permissions on the hame space and people created.        -->
		<!--                                                          -->
		<!-- The store in which people are persisted.                 -->
		<property name="storeUrl">
			<value>${spaces.store}</value>
		</property>
		<!-- Some authentication mechanisms may need to create people -->
		<!-- in the repository on demand. This enables that feature.  -->
		<!-- If dsiabled an error will be generated for missing       -->
		<!-- people. If enabled then a person will be created and     -->
		<!-- persisted.                                               -->
		<!-- Valid values are                                         -->
		<!--     ${server.transaction.allow-writes}                   -->
		<!--     false                                                -->
		<property name="createMissingPeople">
			<value>${personService.autoCreate}</value>
		</property>
		<property name="userNamesAreCaseSensitive">
			<value>${user.name.caseSensitive}</value>
		</property>
		<!-- New properties after 1.4.0 to deal with duplicate user ids when found -->
		<property name="processDuplicates">
			<value>${personService.processDuplicates}</value>
		</property>
		<!-- one of:  LEAVE, SPLIT, DELETE -->
		<property name="duplicateMode">
			<value>${personService.duplicateMode}</value>
		</property>
		<property name="lastIsBest">
			<value>${personService.lastIsBest}</value>
		</property>
		<property name="includeAutoCreated">
			<value>${personService.includeAutoCreated}</value>
		</property>
	</bean>
	
	<bean id="authorityService" class="org.alfresco.repo.security.authority.AuthorityServiceImpl">
		<property name="authenticationComponent">
			<ref bean="authenticationComponent" />
		</property>
		<property name="personService">
			<ref bean="personService" />
		</property>
		<property name="nodeService">
			<ref bean="nodeService" />
		</property>
		<property name="tenantService">
			<ref bean="tenantService" />
		</property>
		<property name="authorityDAO">
			<ref bean="authorityDAO" />
		</property>
		<property name="permissionServiceSPI">
			<ref bean="permissionServiceImpl" />
		</property>
		<!--                                                                  -->
		<!-- A list of users with admin rights.                               -->
		<!--                                                                  -->
		<!-- If the security framework is case sensitive these values should  -->
		<!-- be case sensitive user names. If the security framework is not   -->
		<!-- case sensitive these values should be the lower-case user names. -->
		<!--                                                                  -->
		<!-- By default this includes:                                        -->
		<!--    admin (the user name of default alfresco admin user)          -->
		<!--    administrator (the windows default admin user)                -->
		<!--                                                                  -->
		<!-- This assumes that user names are not case sensitive.             -->
		<!--                                                                  -->
		<property name="adminUsers">
			<set>
				<value>admin</value>
			</set>
		</property>
	</bean>

</beans>
